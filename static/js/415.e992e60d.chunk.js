"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[415],{5123:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r=n(2791),a=n(9434),s=n(8627),i=n(4165),c=n(5861),o=n(9439),l=n(3025),d=n(1889),m=n(7621),h=n(9585),u=n(9504),x=n(184);var p=function(e){var t=e.renderData,n=(0,r.useState)(null),a=(0,o.Z)(n,2),s=a[0],p=a[1];return(0,r.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.E)(t);case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{children:"Next hours"}),s?(0,x.jsx)("div",{className:"forecastContainer",children:(0,x.jsx)(d.ZP,{container:!0,spacing:3,justifyContent:"center",children:s.list.slice(0,8).map((function(e){return(0,x.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,x.jsxs)(m.Z,{className:"forecastCard",children:[(0,x.jsx)(h.Z,{title:e.dt_txt}),(0,x.jsxs)(u.Z,{children:[(0,x.jsx)("p",{children:e.weather[0].description}),(0,x.jsx)("img",{className:"forecastIcon",src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),alt:"weather icon"}),(0,x.jsxs)("div",{className:"temperature-info",children:[(0,x.jsxs)("div",{className:"temperature-row",children:[(0,x.jsx)("span",{children:"Temp max:"}),(0,x.jsxs)("span",{className:"temperature-value",children:[Math.round(e.main.temp_max-273.15),"\xb0C"]})]}),(0,x.jsxs)("div",{className:"temperature-row",children:[(0,x.jsx)("span",{children:"Temp min:"}),(0,x.jsxs)("span",{className:"temperature-value",children:[Math.round(e.main.temp_min-273.15),"\xb0C"]})]})]})]})]})},e.dt)}))})}):null]})},j=n(890);var f=function(e){var t,n,a=e.renderData;if((0,r.useEffect)((function(){a&&console.log(a)}),[a]),!a)return null;var s=(null===(t=a.sys)||void 0===t?void 0:t.sunrise)&&new Date(1e3*a.sys.sunrise).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),i=(null===(n=a.sys)||void 0===n?void 0:n.sunset)&&new Date(1e3*a.sys.sunset).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),c=a.dt&&new Date(1e3*a.dt).toLocaleDateString("en-US",{weekday:"long"}),o=a.dt&&new Date(1e3*a.dt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,x.jsxs)("main",{className:"main",children:[(0,x.jsxs)("div",{className:"weatherContainer",children:[(0,x.jsxs)(m.Z,{className:"weatherCard",children:[(0,x.jsx)(h.Z,{title:"City: ".concat(a.name)}),(0,x.jsxs)(u.Z,{children:[(0,x.jsxs)(j.Z,{className:"cardText",children:["Day of week: ",c]}),(0,x.jsxs)(j.Z,{className:"cardText",children:["Time: ",o]}),(0,x.jsxs)(j.Z,{className:"cardText",children:["Temperature:"," ",Math.round(a.main.temp-273.15),"\u2103"]})]})]}),(0,x.jsxs)(m.Z,{className:"weatherCard",children:[(0,x.jsx)(h.Z,{title:"Sunrise and Sunset"}),(0,x.jsxs)(u.Z,{children:[s&&(0,x.jsxs)(j.Z,{className:"cardText",children:["Sunrise: ",s]}),i&&(0,x.jsxs)(j.Z,{className:"cardText",children:["Sunset: ",i]})]})]}),(0,x.jsxs)(m.Z,{className:"weatherCard",children:[(0,x.jsx)(h.Z,{title:"Weather Info"}),(0,x.jsxs)(u.Z,{children:[(0,x.jsxs)("div",{className:"weatherMainInfo",children:[(0,x.jsxs)(j.Z,{className:"cardText",children:["Weather: ",a.weather[0].main]}),(0,x.jsx)("div",{className:"weatherInfo"})]}),(0,x.jsxs)(j.Z,{className:"cardText",children:["Humidity: ",a.main.humidity,"%"]}),(0,x.jsxs)(j.Z,{className:"cardText",children:["Wind speed: ",a.wind.speed," m/s"]})]})]})]}),(0,x.jsx)(p,{renderData:a.name})]})},g=n(3825),Z=n(4554),v=n(9164);var y=function(){return(0,x.jsx)(Z.Z,{sx:{backgroundColor:"primary.main",py:3},children:(0,x.jsx)(v.Z,{maxWidth:"lg",children:(0,x.jsxs)(j.Z,{variant:"body1",align:"center",color:"text.secondary",children:["\xa9 ",(new Date).getFullYear()," Gismeteo Wheather. All rights reserved."]})})})},w=n(1413),b=n(2195),N=n(3044),D=n(6151),S=n(4708),C=n(7313),T=n(5523),k=n(9174),P=n(533),W=n(5527),I=n(403),L=n(7107),M=n(4507),E=n(1087);function F(e){return(0,x.jsxs)(j.Z,(0,w.Z)((0,w.Z)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",(0,x.jsx)(P.Z,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var U=(0,L.Z)();var _=function(){var e=(0,a.I0)();return(0,x.jsx)(M.Z,{theme:U,children:(0,x.jsxs)(d.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,x.jsx)(S.ZP,{}),(0,x.jsx)(d.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://images.unsplash.com/photo-1630260667842-830a17d12ec9?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),(0,x.jsx)(d.ZP,{item:!0,xs:12,sm:8,md:5,component:W.Z,elevation:6,square:!0,children:(0,x.jsxs)(Z.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,x.jsx)(N.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,x.jsx)(I.Z,{})}),(0,x.jsx)(j.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,x.jsxs)(Z.Z,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget);e((0,b.Ib)({email:n.get("email"),password:n.get("password")})),t.currentTarget.reset()},sx:{mt:1},children:[(0,x.jsx)(C.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),(0,x.jsx)(C.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),(0,x.jsx)(T.Z,{control:(0,x.jsx)(k.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,x.jsx)(D.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),(0,x.jsxs)(d.ZP,{container:!0,children:[(0,x.jsx)(d.ZP,{item:!0,xs:!0,children:(0,x.jsx)(P.Z,{href:"#",variant:"body2",children:"Forgot password?"})}),(0,x.jsx)(d.ZP,{item:!0,children:(0,x.jsx)(E.rU,{to:"/register",style:{textDecoration:"none"},children:(0,x.jsx)(P.Z,{variant:"body2",children:"Don't have an account? Sign Up"})})})]}),(0,x.jsx)(F,{sx:{mt:5}})]})]})})]})})},H=(n(3666),n(8559)),q=n.n(H),z=function(e){var t=e.cityName,n=(0,r.useState)(null),a=(0,o.Z)(n,2),s=a[0],i=a[1];return console.log(t),(0,r.useEffect)((function(){if(!s){var e=q().map("map").setView([0,0],5);q().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e),i(e)}}),[s]),(0,r.useEffect)((function(){t&&s&&fetch("https://nominatim.openstreetmap.org/search?city=".concat(t,"&format=json&limit=1")).then((function(e){return e.json()})).then((function(e){if(e&&e.length>0){var t=e[0],n=t.lat,r=t.lon;s.setView([n,r],10);var a=q().tileLayer("https://{s}.tile.openweathermap.org/map/temp_new/{z}/{x}/{y}.png?appid=".concat("734588c2699055204b9a6d7af7a03dcd"),{maxZoom:18,attribution:'Weather data &copy; <a href="https://openweathermap.org/">OpenWeatherMap</a>',tileSize:256,opacity:.5});s.eachLayer((function(e){e!==s.getPane().getElementsByClassName("leaflet-tile-pane")[0].firstChild&&s.removeLayer(e)})),a.addTo(s)}})).catch((function(e){console.error("Error fetching city coordinates:",e)}))}),[t,s]),(0,x.jsx)("div",{id:"map",style:{height:"600px",width:"100%",marginBottom:"20px"}})};function B(e){var t=e.renderData,n=e.setRenderData,r=(0,s.a)().isLoggedIn;return(0,x.jsx)("div",{children:r?(0,x.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(0,x.jsx)(g.I,{setRenderData:n}),(0,x.jsxs)("div",{style:{flex:"1 1 auto"},children:[(0,x.jsx)(f,{renderData:t}),t&&(0,x.jsx)(z,{cityName:t.name})]}),(0,x.jsx)(y,{})]}):(0,x.jsx)(_,{})})}}}]);
//# sourceMappingURL=415.e992e60d.chunk.js.map